<md-toolbar class="title-form">
  <md-input-container class="fakeHint" floatPlaceholder="never" *ngIf="isSearch" style="width: 100%;">
    <input mdInput placeholder="Pesquisar" (input)="changeSearch($event.target.value)">
  </md-input-container>
  <h4 *ngIf="!isSearch">{{title}} - FASE 1</h4>
  <span class="toolbar-spacer"></span>
  <!--<button color="accent" md-raised-button mdTooltip="Adicionar Concluinte" class="add" routerLink="add">
    Adicionar Concluinte
  </button>-->
  <button md-icon-button mdTooltip="Filtrar" (click)="isSearch = true" *ngIf="!isSearch">
    <md-icon>filter_list</md-icon>
  </button>

  <button md-icon-button mdTooltip="Limpar busca" (click)="clearSearch()" *ngIf="isSearch">
    <md-icon>close</md-icon>
  </button>

  <button md-icon-button [mdMenuTriggerFor]="listMenu" mdTooltip="Mais opções">
    <md-icon>more_vert</md-icon>
  </button>
  <md-menu #listMenu="mdMenu">
    <button md-menu-item>
      <md-icon>file_download</md-icon>
      <span>Baixar Formulário</span>
    </button>
    <button md-menu-item>
      <md-icon>help_outline</md-icon>
      <span>Ajuda</span>
    </button>
  </md-menu>
</md-toolbar>
<table>
  <thead>
    <tr>
      <th>
         <md-checkbox></md-checkbox>
      </th>
      <th>
        <a (click)="changeSortAndOrder('name')">
          Nome
          <md-icon *ngIf="sort.order == 'asc' && sort.field == 'name'">arrow_drop_up</md-icon>
          <md-icon *ngIf="sort.order == 'desc' && sort.field == 'name'">arrow_drop_down</md-icon>
        </a>
      </th>
      <th>
        <a (click)="changeSortAndOrder('id')">
          COD
          <md-icon *ngIf="sort.order == 'asc' && sort.field == 'id'">arrow_drop_up</md-icon>
          <md-icon *ngIf="sort.order == 'desc' && sort.field == 'id'">arrow_drop_down</md-icon>
        </a>
      </th>
      <th>
        <a (click)="changeSortAndOrder('unit.description')">
          Unidade
          <md-icon *ngIf="sort.order == 'asc' && sort.field == 'unit.description'">arrow_drop_up</md-icon>
          <md-icon *ngIf="sort.order == 'desc' && sort.field == 'unit.description'">arrow_drop_down</md-icon>
        </a>
      </th>
      <th>
        <a (click)="changeSortAndOrder('modality?.description')">
          Modalidade
          <md-icon *ngIf="sort.order == 'asc' && sort.field == 'modality?.description'">arrow_drop_up</md-icon>
          <md-icon *ngIf="sort.order == 'desc' && sort.field == 'modality?.description'">arrow_drop_down</md-icon>
        </a>
      </th>
      <th>
        <a (click)="changeSortAndOrder('course?.description')">
          Curso
          <md-icon *ngIf="sort.order == 'asc' && sort.field == 'course?.description'">arrow_drop_up</md-icon>
          <md-icon *ngIf="sort.order == 'desc' && sort.field == 'course?.description'">arrow_drop_down</md-icon>
        </a>
      </th>
      <th>
        <a (click)="changeSortAndOrder('class')">
          Turma
          <md-icon *ngIf="sort.order == 'asc' && sort.field == 'class'">arrow_drop_up</md-icon>
          <md-icon *ngIf="sort.order == 'desc' && sort.field == 'class'">arrow_drop_down</md-icon>
        </a>
      </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let student of students">
      <td>
         <md-checkbox (change)="toogleSelected($event.checked, student)"></md-checkbox>
      </td>
      <td>{{student.name}}</td>
      <td>{{student.id}}</td>
      <td>{{student.unit?.description}}</td>
      <td>{{student.modality?.description}}</td>
      <td>{{student.course?.description}}</td>
      <td>{{student.class}}</td>
      <td>
        <button (click)="edit(student.id)" class="button-edit" md-icon-button mdTooltip="Editar concluinte">
          <md-icon>edit</md-icon>
        </button>
      </td>
    </tr>
  </tbody>
</table>
<md-toolbar>
  <span class="pagination-spacer"></span>
  <span class="pagination-info">
    <label>
      Página: {{ apiPage }}
      <button md-icon-button [mdMenuTriggerFor]="pageNumber" mdTooltip="Número da página">
        <md-icon class="md-toolbar grey">arrow_drop_down</md-icon>
      </button>
    </label>
    <md-menu #pageNumber="mdMenu">
      <button *ngFor="let page of (this.infoApi?.last_page | arrayGenerator)"  (click)="changePage(page);" md-menu-item>
        <span>{{page}}</span>
      </button>
    </md-menu>
    <label>
      Concluintes por página: {{ apiLimit }}
      <button md-icon-button [mdMenuTriggerFor]="perPageSelect" mdTooltip="Páginas">
        <md-icon class="md-toolbar grey">arrow_drop_down</md-icon>
      </button>
    </label>
    <md-menu #perPageSelect="mdMenu">
      <button *ngFor="let value of arrayPagination" (click)="changeLimit(value)" md-menu-item><span>{{value}}</span></button>
    </md-menu>
    {{ infoApi?.from }} - {{ infoApi?.to }} de {{ infoApi?.total }}
  </span>
</md-toolbar>
